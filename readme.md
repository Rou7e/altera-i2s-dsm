# Репозиторий DSM конвертера под платформы Altera

## Инструменты, требуемые для работы с репозиторием на Windows 10
1) Quartus (Quartus Prime 22.1std) Standard Edition
2) Icarus Verilog
3) GTKWave
4) Python 3.9 (matplotlib, numpy, scipy)    

## Текущая платформа
### [5m1270zt144c5n](https://www.chipdip.ru/product/5m1270zt144c5n)

## Заложенные режимы работы
1) Тест на максимальной частоте: PCM32 на входе DSD512 на выходе 
2) Тест на пониженной частоте: PCM32 в DSD64
3) Тест на сниженной разрядности: PCM16 в DSD512
4) Тест на сквозной пропуск данных по поднятому флагу от конвертера: DSD512 в DSD512

## Текущие параметры
1) Поведенческая симуляция реализована и проведена для режима 1 из списка выше (остальные 3 режима также могут (и по идее, должны) работать, но пока подтверждений нет)
2) На таймингах - устройство может пока что работать только до частоты DSD128 включительно (5.6448 МГц). Теоретически по LUTам, имеется возможность поместить еще 2 канала параллельно. Распиновку удалось сохранить отн. требований (входы сверху, выходы снизу), но даже если от нее отказаться, дизайн все равно не проходит требования для DSD256. Ситуация схожа для всех CPLD, которые были найдены в доступе на розничном рынке.

## Перспективы улучшения дизайна
1) Следует переходить на старшие серии, особенный интерес представляют Cyclone II (по цене не намного дороже, широко доступны, но намного выше характеристики по частотам и IO pins чем у CPLD). 
2) После вышеописанного перехода появится возможность использовать мегафункции на основе IP-ядер DSP, возможно там есть готовый интегратор, он заменит самое проблемное звено модулятора.
3) Если точностью конверсии можно пренебречь (допустимы высокочастотные низкоамплитудные колебания на пиках PCM) можно попробовать совершить downgrade до дельта-модуляции, что существенно понизит сложность синтеза дизайна.